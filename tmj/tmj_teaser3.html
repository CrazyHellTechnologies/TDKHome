<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<!-- Mirrored from dsipaint.com/tmj/tmj_teaser3.php by HTTrack Website Copier/3.x [XR&CO'2017], Sat, 08 Apr 2023 13:10:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="viewport" content="width=device-width" />
<meta name="description" content="DSiPaint: Games and Apps for the Nintendo 3DS Internet Browser" />
<meta name="keywords" content="DSiPaint, DSi Opera SDK, Nintendo DSi, DSi, JavaScript, video games" />
<link rel="shortcut icon" href="../favicon.ico" />
<link rel="stylesheet" href="../stylee993.css" type="text/css" />
<link rel="stylesheet" href="../lighte993.css" type="text/css" />
<script type="text/javascript">
	function parse(json){
		return (typeof JSON == 'object') ? JSON.parse(json) : eval(json);
	}

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-702344-9']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();
</script>
	<title>The Mystical Journey - Teaser 3</title>
	<script type="text/javascript">
		var party = {x:120, y:910, x_inc:0, y_inc:0, x_map:0, y_map:0, face:1};
		var script_step=0;

		var tiles = [];
		for(index=0; index<21; index++){ tiles[index] = [1,1,1,1,1,1,1,1]; }
		tiles[21] = [1,0,0,0,0,0,0,1,1];
		tiles[22] = [1,0,0,1,0,0,1,1,1];
		tiles[23] = [1,0,0,1,0,0,1,1,1];
		tiles[24] = [1,1,0,1,0,0,1,1,1];
		tiles[25] = [1,1,0,1,0,0,1,0,1];
		tiles[26] = [1,1,0,1,0,0,0,0,1];
		tiles[27] = [1,0,0,1,0,0,0,0,1];
		tiles[28] = [1,0,0,1,0,0,0,0,1];
		tiles[29] = [1,0,0,0,0,0,0,0,1];
		tiles[30] = [1,0,0,0,0,0,0,0,1];
		tiles[31] = [1,0,0,0,0,0,0,0,1];
		tiles[32] = [1,0,0,0,0,0,0,0,1];
		tiles[33] = [1,1,1,1,1,1,1,1,1];


		script = [
				{'command':'start'},
				{'command':'move', 'x':120, 'y':936, 'absolute':true},
				{'command':'face', 'direction':'up'},
				{'command':'dialog', 'text':'Welcome to the third teaser for The Mystical Journey'},
				{'command':'repeat', 'times':60},
				{'command':'dialog', 'text':'We are starting in the village of Bryn, which is where the final game will begin.'},
				{'command':'repeat', 'times':80},
				{'command':'dialog', 'text':'It looks like Jasper is already here for us. Let\'s try to get his attention.'},
				{'command':'repeat', 'times':120},
				{'command':'dialog', 'text':''},
				{'command':'repeat', 'times':20},
				{'command':'dialog', 'text':'Hey, Jasper.'},
				{'command':'repeat', 'times':30},
				{'command':'dialog', 'text':''},
				{'command':'repeat', 'times':30},
				{'command':'dialog', 'text':'JASPER!!'},
				{'command':'repeat', 'times':5},
				{'command':'gesture', 'gesture':3},
				{'command':'repeat', 'times':10},
				{'command':'gesture', 'gesture':0},
				{'command':'repeat', 'times':10},
				{'command':'gesture', 'gesture':1},
				{'command':'repeat', 'times':10},
				{'command':'gesture', 'gesture':2},
				{'command':'repeat', 'times':10},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':10},
				{'command':'dialog', 'text':'Thank you, Jasper.  Now let\'s continue...'},
				{'command':'repeat', 'times':40},
				{'command':'gesture', 'gesture':0},
				{'command':'repeat', 'times':3},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':17},
				{'command':'dialog', 'text':'Jasper is the grandson of the mining foreman and becomes the first playable character.  We will get to the circumstances of this in a moment.'},
				{'command':'repeat', 'times':120},
				{'command':'dialog', 'text':'For now, though, he will give us a tour of Bryn. Heroism will have to wait.'},
				{'command':'repeat', 'times':80},
				{'command':'dialog', 'text':''},
				{'command':'repeat', 'times':20},
				{'command':'face', 'direction':'up'},
				{'command':'move', 'x':0, 'y':-2},
				{'command':'repeat', 'times':113},
				{'command':'move', 'x':120, 'y':530, 'absolute':true},
				{'command':'dialog', 'text':'Rather than staring at Jasper\'s backside, we\'ve skipped to the entrance to the mine, which is north of Bryn.'},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':119},
				{'command':'dialog', 'text':'Bryn\'s economy depends on export of valuable ores that are derived from the mine.'},
				{'command':'repeat', 'times':100},
				{'command':'dialog', 'text':'These ores can be used in alloys to create anything from weapons to machinery.'},
				{'command':'repeat', 'times':100},
				{'command':'face', 'direction':'up'},
				{'command':'dialog', 'text':''},
				{'command':'move', 'x':0, 'y':-2},
				{'command':'repeat', 'times':53},
				{'command':'move', 'x':0, 'y':0},
				{'command':'dialog', 'text':'Here we are now at the mine entrance.'},
				{'command':'repeat', 'times':80},
				{'command':'dialog', 'text':''},
				{'command':'face', 'direction':'left'},
				{'command':'repeat', 'times':20},
				{'command':'dialog', 'text':'Jasper, could you stop hitting on that girl?  She looks busy.'},
				{'command':'repeat', 'times':40},
				{'command':'face', 'direction':'down'},
				{'command':'gesture', 'gesture':2},
				{'command':'repeat', 'times':10},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':10},
				{'command':'dialog', 'text':''},
				{'command':'repeat', 'times':20},
				{'command':'dialog', 'text':'On that note, let\'s skip ahead to the mine itself.'},
				{'command':'repeat', 'times':30},
				{'command':'face', 'direction':'up'},
				{'command':'repeat', 'times':30},
				{'command':'move', 'x':120, 'y':230, 'absolute':true},
				{'command':'dialog', 'text':''},
				{'command':'repeat', 'times':30},
				{'command':'face', 'direction':'down'},
				{'command':'dialog', 'text':'Well, here we are in the mine where it all begins.'},
				{'command':'repeat', 'times':60},
				{'command':'dialog', 'text':'Late one night, Jasper\'s grandfather is working with the mining team, when a flash of light shoots by them.'},
				{'command':'repeat', 'times':100},
				{'command':'dialog', 'text':'A blast of energy erupts inside the mine, burning several workers to death. Jasper\'s grandfather barely survives.'},
				{'command':'repeat', 'times':100},
				{'command':'dialog', 'text':'What caused this? How does Jasper seek answers? It\'s best to not give away too much.'},
				{'command':'repeat', 'times':100},
				{'command':'dialog', 'text':'Let\'s see one more thing before concluding this teaser.'},
				{'command':'repeat', 'times':60},
				{'command':'face', 'direction':'left'},
				{'command':'move', 'x':120, 'y':88, 'absolute':true},
				{'command':'repeat', 'times':20},
				{'command':'gesture', 'gesture':3},
				{'command':'repeat', 'times':10},
				{'command':'dialog', 'text':'I guess Jasper isn\'t ready for this yet. He needs some friends to help.'},
				{'command':'repeat', 'times':60},
				{'command':'dialog', 'text':'Well, Jasper, I guess we have to save something for Teaser 4.'},
				{'command':'repeat', 'times':20},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':40},
				{'command':'dialog', 'text':'What should we let the viewers do, then, Jasper?'},
				{'command':'repeat', 'times':80},
				{'command':'gesture', 'gesture':0},
				{'command':'repeat', 'times':3},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':3},
				{'command':'gesture', 'gesture':0},
				{'command':'repeat', 'times':3},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':3},
				{'command':'gesture', 'gesture':0},
				{'command':'repeat', 'times':3},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':3},
				{'command':'gesture', 'gesture':0},
				{'command':'repeat', 'times':3},
				{'command':'face', 'direction':'down'},
				{'command':'repeat', 'times':3},
				{'command':'dialog', 'text':'Sure, that\'s a great idea! Go ahead and test the controls.'},
				{'command':'repeat', 'times':80},
				{'command':'move', 'x':120, 'y':936, 'absolute':true},
				{'command':'dialog', 'text':''},
			];

		function next_dialog(){
			location.href='../menu_tmj.html';
		}

		window.onload = function(){
			draw();
		}

		function draw(){
			if(script_step>=0){ run_script(); }

			party.x_map=(party.x+party.x_inc+24)>>5;
			party.y_map=(party.y+party.y_inc+56)>>5;

			if(script_step>-1 || ((party.y_map>=0 && party.x_map>=0 && party.y_map<tiles.length && party.x_map<tiles[party.y_map].length) && !tiles[party.y_map][party.x_map])){
				party.x+=party.x_inc;
				party.y+=party.y_inc;
			}

			document.getElementById('action_pane').style.backgroundPosition = (-party.x+120)+'px '+(-party.y+88)+'px';
			document.getElementById('party').style.backgroundPosition = (party.face==4) ? ((-party.gesture<<5)+'px -256px') : ((-((party.x+party.y)&24)<<2)+'px '+(-party.face<<6)+'px');
			setTimeout('draw()',50);
		}

		function move(){
			if(script_step==-1){
				party.x_inc = (event.clientX-120)>>4;
				party.y_inc = (event.clientY-88)>>4;

				temp_x = Math.abs(party.x_inc);
				temp_y = Math.abs(party.y_inc);

				if(temp_x>temp_y){
					party.face = (party.x_inc>0?2:3);
				}else{
					party.face = (party.y_inc>0?0:1);
				}
			}
		}

		function run_script(){
			script_step++;
			if(script_step>=script.length){
				script_step=-1;
				return;
			}else{
				command=script[script_step];
			}
			switch(command.command){
				case 'dialog':
					if(command.text){
						document.getElementById('text_pane').style.display='block';
						document.getElementById('text_pane').innerHTML=command.text;
					}else{
						document.getElementById('text_pane').style.display='none';
					}
					break;
				case 'exit':
					location.href='menu_tmj.html';
					break;
				case 'fight':
					location.href='tmj_fight786c.html'+command.background+'&enemy='+command.enemy;
					break;
				case 'face':
					switch(command.direction){
						case 'down': party.face=0; break;
						case 'up': party.face=1; break;
						case 'right': party.face=2; break;
						case 'left': party.face=3; break;
					}
					break;
				case 'fillstats':
					/*foreach(character in characters){
						character.hp=character.hp_max;
						character.mp=character.mp_max;
					}*/
					break;
				case 'gesture':
					party.face=4;
					party.gesture=command.gesture;
					break;
				case 'getitem':
					/*items[command.item]++;*/
					break;
				case 'link':
					location.href='tmj_level3abc.html'+command.level+'&x='+command.x+'&y='+command.y+'&cinema='+command.script;
					break;
				case 'map':
					break;
				case 'move':
					if(command.absolute){
						party.x_inc=0;
						party.y_inc=0;
						party.x=command.x;
						party.y=command.y;
					}else{
						party.x_inc=command.x;
						party.y_inc=command.y;
					}
					break;
				case 'overlay':
					break;
				case 'repeat':
					if(command.times){
						script_step--;
						command.times--;
					}
					break;
				case 'useitem':
					/*items[command.item]--;*/
					break;
				default:
					break;
			}
		}
	</script>
	<style type="text/css">
		BODY {
			background: #000;
			margin: 0px;
		}
		.action_pane {
			background: url(images/tilesets/teaser3.png) 0px 400px no-repeat;
			height: 176px;
			left: 0px;
			position: absolute;
			top: 0px;
			width: 240px;
		}
		.text_pane {
			background: url(images/gradients/blue_gradient.png) repeat-x;
			border: 2px ridge #888;
			color: #fff;
			display: none;
			font-size: 8px;
			height: 48px;
			left: 0px;
			position: absolute;
			line-height: 12px;
			overflow: hidden;
			padding: 2px;
			text-align: left;
			text-shadow: 1px 1px 1px #000;
			top: 120px;
			width: 232px;
		}

		.sprite {
			background: url(images/characters/hockfin.png) no-repeat;
			height: 64px;
			left: 104px;
			position: absolute;
			top: 46px;
			width: 32px;
		}
	</style>
</head>
<body>
	<div class="action_pane" id="action_pane" onmousemove="move()"></div>
	<div class="text_pane" id="text_pane">This is an early demo for a smooth scrolling of a level. [Next]</div>
	<div class="sprite" id="party"></div>
</body>

<!-- Mirrored from dsipaint.com/tmj/tmj_teaser3.php by HTTrack Website Copier/3.x [XR&CO'2017], Sat, 08 Apr 2023 13:10:46 GMT -->
</html>
